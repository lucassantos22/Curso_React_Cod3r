{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import axios from'axios';import{Form,Button}from'react-bootstrap';import{changeVision as _changeVision}from'../../store/actions/whichTableIsVisible';import{updateTasks as _updateTasks}from'../../store/actions/tasks';var URL='https://todo-backend-express.herokuapp.com/';var initialStale={title:'',order:''};var mapStateToProps=function mapStateToProps(state){return{tasks:state.users.tasks};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeVision:function changeVision(trueOrFalse){dispatch(_changeVision(trueOrFalse));},updateTasks:function updateTasks(tasks){dispatch(_updateTasks(tasks));}};};var FormComponent=/*#__PURE__*/function(_Component){_inherits(FormComponent,_Component);var _super=_createSuper(FormComponent);function FormComponent(props){var _this;_classCallCheck(this,FormComponent);_this=_super.call(this,props);_this.state=_objectSpread({},initialStale);_this.sendTask=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var tasks;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(_this.state.title.length===0)){_context.next=4;break;}alert('A tarefa deve ter um título');return _context.abrupt(\"return\");case 4:if(!(_this.state.title.length>40)){_context.next=7;break;}alert('A tarefa não deve ultrapassar 40 caracteres');return _context.abrupt(\"return\");case 7:axios.post(URL,{title:_this.state.title,order:_this.props.tasks.length+1});_context.next=10;return axios.get(URL);case 10:tasks=_context.sent;_this.props.updateTasks(tasks.data);_this.props.changeVision(1);case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(FormComponent,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cadastrar\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tarefa\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(e){return _this2.setState({title:e.target.value});},type:\"text\",required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Campo obrigat\\xF3rio\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:function onClick(e){return _this2.sendTask(e);},children:\"Adicionar\"})]})]});}}]);return FormComponent;}(Component);export default connect(mapStateToProps,mapDispatchToProps)(FormComponent);","map":{"version":3,"sources":["/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/src/components/templates/Form.js"],"names":["React","Component","connect","axios","Form","Button","changeVision","updateTasks","URL","initialStale","title","order","mapStateToProps","state","tasks","users","mapDispatchToProps","dispatch","trueOrFalse","FormComponent","props","sendTask","e","preventDefault","length","alert","post","get","data","setState","target","value"],"mappings":"0wCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAAQC,IAAR,CAAcC,MAAd,KAA2B,iBAA3B,CACA,OAAQC,YAAY,GAAZA,CAAAA,aAAR,KAA2B,yCAA3B,CACA,OAAQC,WAAW,GAAXA,CAAAA,YAAR,KAA0B,2BAA1B,CAEA,GAAMC,CAAAA,GAAG,CAAG,6CAAZ,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,KAAK,CAAE,EAFU,CAArB,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAG,CAC5B,MAAO,CACHC,KAAK,CAAED,KAAK,CAACE,KAAN,CAAYD,KADhB,CAAP,CAGH,CAJD,CAMA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO,CACHX,YADG,uBACUY,WADV,CACsB,CACrBD,QAAQ,CAACX,aAAY,CAACY,WAAD,CAAb,CAAR,CACH,CAHE,CAIHX,WAJG,sBAISO,KAJT,CAIe,CACdG,QAAQ,CAACV,YAAW,CAACO,KAAD,CAAZ,CAAR,CACH,CANE,CAAP,CAQH,CATD,C,GAWMK,CAAAA,a,8GAEF,uBAAYC,KAAZ,CAAkB,+CACd,uBAAMA,KAAN,EADc,MAIlBP,KAJkB,kBAINJ,YAJM,QAMlBY,QANkB,0FAMP,iBAAOC,CAAP,4HACPA,CAAC,CAACC,cAAF,GADO,KAEH,MAAKV,KAAL,CAAWH,KAAX,CAAiBc,MAAjB,GAA4B,CAFzB,0BAGHC,KAAK,CAAC,6BAAD,CAAL,CAHG,6CAMH,MAAKZ,KAAL,CAAWH,KAAX,CAAiBc,MAAjB,CAA0B,EANvB,0BAOHC,KAAK,CAAC,6CAAD,CAAL,CAPG,wCAUPtB,KAAK,CAACuB,IAAN,CAAWlB,GAAX,CAAgB,CACZE,KAAK,CAAE,MAAKG,KAAL,CAAWH,KADN,CAEZC,KAAK,CAAE,MAAKS,KAAL,CAAWN,KAAX,CAAiBU,MAAjB,CAA0B,CAFrB,CAAhB,EAVO,uBAcarB,CAAAA,KAAK,CAACwB,GAAN,CAAUnB,GAAV,CAdb,SAcDM,KAdC,eAeP,MAAKM,KAAL,CAAWb,WAAX,CAAuBO,KAAK,CAACc,IAA7B,EACA,MAAKR,KAAL,CAAWd,YAAX,CAAwB,CAAxB,EAhBO,uDANO,4EAEjB,C,iEAuBO,iBACJ,mBACI,wCACA,iCADA,cAEA,MAAC,IAAD,yBACA,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,qBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,QAAQ,CAAE,kBAAAgB,CAAC,QAAI,CAAA,MAAI,CAACO,QAAL,CAAc,CAACnB,KAAK,CAACY,CAAC,CAACQ,MAAF,CAASC,KAAhB,CAAd,CAAJ,EAAzB,CAAoE,IAAI,CAAC,MAAzE,CAAgF,QAAQ,KAAxF,EAFJ,cAGI,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,kCAHJ,GADA,cASA,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,OAAO,CAAE,iBAAAT,CAAC,QAAI,CAAA,MAAI,CAACD,QAAL,CAAcC,CAAd,CAAJ,EAAlD,uBATA,GAFA,GADJ,CAkBH,C,2BA9CuBrB,S,EAiD5B,cAAeC,CAAAA,OAAO,CAACU,eAAD,CAAkBI,kBAAlB,CAAP,CAA6CG,aAA7C,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport axios from 'axios';\n\nimport {Form, Button} from 'react-bootstrap';\nimport {changeVision} from '../../store/actions/whichTableIsVisible';\nimport {updateTasks} from '../../store/actions/tasks';\n\nconst URL = 'https://todo-backend-express.herokuapp.com/';\n\nconst initialStale = {\n    title: '',\n    order: ''\n}\n\nconst mapStateToProps = state =>{\n    return {\n        tasks: state.users.tasks\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeVision(trueOrFalse){\n            dispatch(changeVision(trueOrFalse))\n        },\n        updateTasks(tasks){\n            dispatch(updateTasks(tasks))\n        }\n    }\n}\n\nclass FormComponent extends Component {\n\n    constructor(props){\n        super(props);\n    }\n\n    state = {...initialStale};\n\n    sendTask = async (e) =>{\n        e.preventDefault();\n        if (this.state.title.length === 0){\n            alert('A tarefa deve ter um título');\n            return;\n        }\n        if (this.state.title.length > 40){\n            alert('A tarefa não deve ultrapassar 40 caracteres');\n            return;\n        }\n        axios.post(URL, {\n            title: this.state.title,\n            order: this.props.tasks.length + 1\n        });\n        const tasks = await axios.get(URL);\n        this.props.updateTasks(tasks.data)\n        this.props.changeVision(1);\n    }\n\n    render(){\n        return(\n            <>\n            <h3>Cadastrar</h3>\n            <Form>\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Tarefa</Form.Label>\n                <Form.Control onChange={e => this.setState({title:e.target.value})} type=\"text\" required/>\n                <Form.Text className=\"text-muted\">\n                Campo obrigatório\n                </Form.Text>\n            </Form.Group>\n        \n            <Button variant=\"primary\" type=\"submit\" onClick={e => this.sendTask(e)}>\n                Adicionar\n            </Button>\n            </Form>\n            </>\n        )\n    }\n} \n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormComponent);"]},"metadata":{},"sourceType":"module"}