{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/src/components/templates/Form.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Form, Button } from 'react-bootstrap';\nimport { changeVision } from '../../store/actions/whichTableIsVisible';\nimport { updateTasks } from '../../store/actions/tasks';\nimport { updateLoading } from '../../store/actions/loading';\nconst URL = 'https://todo-backend-express.herokuapp.com/';\nconst initialStale = {\n  title: '',\n  order: ''\n};\n\nconst mapStateToProps = state => {\n  return {\n    tasks: state.tasks.tasks\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeVision(trueOrFalse) {\n      dispatch(changeVision(trueOrFalse));\n    },\n\n    updateTasks(tasks) {\n      dispatch(updateTasks(tasks));\n    },\n\n    updateLoading(trueOrFalse) {\n      dispatch(updateLoading(trueOrFalse));\n    }\n\n  };\n};\n\nclass FormComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...initialStale\n    };\n\n    this.sendTask = async e => {\n      e.preventDefault();\n\n      if (this.state.title.length === 0) {\n        alert('A tarefa deve ter um título');\n        return;\n      }\n\n      if (this.state.title.length > 40) {\n        alert('A tarefa não deve ultrapassar 40 caracteres');\n        return;\n      }\n\n      this.props.updateLoading(true);\n      axios.post(URL, {\n        title: this.state.title,\n        order: this.props.tasks.length + 1\n      });\n\n      try {\n        const tasks = await axios.get(URL);\n        this.props.updateTasks(tasks.data);\n      } finally {\n        this.props.updateLoading(false);\n      }\n\n      this.props.changeVision(1);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Cadastrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Tarefa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            onChange: e => this.setState({\n              title: e.target.value\n            }),\n            type: \"text\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-muted\",\n            children: \"Campo obrigat\\xF3rio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: e => this.sendTask(e),\n          children: \"Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormComponent);","map":{"version":3,"sources":["/home/lucas/TI/Curso-React-Cod3r/projeto-pessoal/src/components/templates/Form.js"],"names":["React","Component","connect","axios","Form","Button","changeVision","updateTasks","updateLoading","URL","initialStale","title","order","mapStateToProps","state","tasks","mapDispatchToProps","dispatch","trueOrFalse","FormComponent","constructor","props","sendTask","e","preventDefault","length","alert","post","get","data","render","setState","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport axios from 'axios';\n\nimport {Form, Button} from 'react-bootstrap';\nimport {changeVision} from '../../store/actions/whichTableIsVisible';\nimport {updateTasks} from '../../store/actions/tasks';\nimport {updateLoading} from '../../store/actions/loading';\n\nconst URL = 'https://todo-backend-express.herokuapp.com/';\n\nconst initialStale = {\n    title: '',\n    order: ''\n}\n\nconst mapStateToProps = state =>{\n    return {\n        tasks: state.tasks.tasks\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeVision(trueOrFalse){\n            dispatch(changeVision(trueOrFalse))\n        },\n        updateTasks(tasks){\n            dispatch(updateTasks(tasks))\n        },\n        updateLoading(trueOrFalse){\n            dispatch(updateLoading(trueOrFalse));\n        }\n    }\n}\n\nclass FormComponent extends Component {\n\n    constructor(props){\n        super(props);\n    }\n\n    state = {...initialStale};\n\n    sendTask = async (e) =>{\n        e.preventDefault();\n        if (this.state.title.length === 0){\n            alert('A tarefa deve ter um título');\n            return;\n        }\n        if (this.state.title.length > 40){\n            alert('A tarefa não deve ultrapassar 40 caracteres');\n            return;\n        }\n        this.props.updateLoading(true);\n        axios.post(URL, {\n            title: this.state.title,\n            order: this.props.tasks.length + 1\n        });\n        try{\n            const tasks = await axios.get(URL);\n            this.props.updateTasks(tasks.data)\n        } finally {\n            this.props.updateLoading(false);\n        }\n        this.props.changeVision(1);\n    }\n\n    render(){\n        return(\n            <>\n            <h3>Cadastrar</h3>\n            <Form>\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Tarefa</Form.Label>\n                <Form.Control onChange={e => this.setState({title:e.target.value})} type=\"text\" required/>\n                <Form.Text className=\"text-muted\">\n                Campo obrigatório\n                </Form.Text>\n            </Form.Group>\n        \n            <Button variant=\"primary\" type=\"submit\" onClick={e => this.sendTask(e)}>\n                Adicionar\n            </Button>\n            </Form>\n            </>\n        )\n    }\n} \n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormComponent);"]},"metadata":{},"sourceType":"module"}